<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç§Ÿå€Ÿè¨ˆç®—å·¥å…·</title>
  <style>
    /* âœ… Make sizing consistent everywhere */
    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      font-family: "Segoe UI", sans-serif;
      margin: 20px;
      background: #f9fbfc;
      color: #333;
    }

    .container {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    label {
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }

    /* âœ… Standardize all form fields */
    select, input[type="date"], button {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 15px;
      font-size: 16px;
      border-radius: 6px;
      display: block;
      height: 44px; /* consistent mobile-friendly height */
      line-height: 1.2;
    }

    /* Inputs & select consistent borders */
    select, input[type="date"] {
      border: 1px solid #ccc;
      background: #fff;

      -webkit-appearance: none; /* iOS Safari fix */
      appearance: none;
    }

    /* Button matches width & height */
    button {
      background: #0078D7;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.2s ease-in-out;
    }
    button:hover {
      background: #005fa3;
    }

    #result {
      margin-top: 20px;
      padding: 15px;
      background: #f0f8ff;
      border: 1px solid #add8e6;
      border-radius: 8px;
      font-size: 16px;
      line-height: 1.6em;
    }
    #result .title {
      font-size: 18px;
      margin-bottom: 8px;
    }
    #result .line {
      display: flex;
      justify-content: space-between;
      padding: 2px 0;
    }
    #result .total {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
      border-top: 1px solid #add8e6;
      padding-top: 8px;
    }
    #result .deposit {
      margin-top: 5px;
      color: #444;
      font-size: 15px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>852cameraç§Ÿå€Ÿåƒ¹æ ¼è¨ˆç®—å™¨</h2>

    <label for="product">é¸æ“‡å‹è™Ÿï¼š</label>
    <select id="product">
      <option value="">-- è«‹é¸æ“‡ --</option>
      <option value="S24U">Samsung S24U</option>
      <option value="S25U">Samsung S25U</option>
      <option value="X200 Ultra">Vivo X200 Ultra + å°ˆæ¥­æ”å½±å¥—è£</option>
      <option value="R5">Canon R5</option>
      <option value="R5ii">Canon R5ii</option>
      <option value="R6ii">Canon R6ii</option>
      <option value="EF 70-200 F2.8 ii">Canon EF 70-200 F2.8 ii</option>
      <option value="RF 70-200 F2.8">Canon RF 70-200 F2.8</option>
      <option value="RF 100-500">Canon RF 100-500</option>
      <option value="RF 100-400">Canon RF 100-400</option>
      <option value="RF 50mm 1.8">Canon RF 50mm 1.8</option>
      <option value="A7R5">Sony A7R5</option>
      <option value="A7C2">Sony A7C2</option>
      <option value="FE 100-400">Sony FE 100-400</option>
      <option value="FE 70-200 F2.8 ii">Sony FE 70-200 F2.8 ii</option>
      <option value="FE 200-600">Sony FE 200-600</option>
      <option value="1.4x Extender">Sony 1.4x é æ”å¢è·é¡</option>
      <option value="X100VI">Fujifilm X100VI</option>
    </select>

    <label for="startDate">å–æ©Ÿæ—¥æœŸï¼š</label>
    <input type="date" id="startDate" />

    <label for="endDate">é‚„æ©Ÿæ—¥æœŸï¼š</label>
    <input type="date" id="endDate" />

    <button onclick="calculatePrice()">è¨ˆç®—åƒ¹æ ¼</button>

    <div id="result"></div>
  </div>

  <script>
    // å…¨éƒ¨å‹è™Ÿçš„åƒ¹éŒ¢è¡¨ (å«æŒ‰é‡‘)
    const pricingData = {
      "S24U": { deposit:6000, perDay:180, weekday1:150, weekend:{2:160,3:80,more:50,more14:40}, weekday:{2:135,3:70,more:40,more14:30}, week:580, twoWeek:1050 },
      "S25U": { deposit:8000, perDay:280, weekday1:240, weekend:{2:230,3:80,more:65,more14:60}, weekday:{2:190,3:70,more:55,more14:50}, week:830, twoWeek:1450 },
      "X200 Ultra": { deposit:9000, perDay:280, weekday1:240, weekend:{2:230,3:80,more:70,more14:50}, weekday:{2:190,3:70,more:60,more14:40}, week:840, twoWeek:1500 },
      "R5": { deposit:16000, perDay:350, weekday1:300, weekend:{2:210,3:70,more:80,more14:60}, weekday:{2:180,3:60,more:70,more14:50}, week:900, twoWeek:1280 },
      "R5ii": { deposit:18000, perDay:500, weekday1:430, weekend:{2:300,3:100,more:110,more14:80}, weekday:{2:260,3:90,more:90,more14:70}, week:1260, twoWeek:1780 },
      "R6ii": { deposit:12000, perDay:250, weekday1:210, weekend:{2:150,3:100,more:80,more14:60}, weekday:{2:150,3:100,more:80,more14:60}, week:800, twoWeek:1200 },
      "EF 70-200 F2.8 ii": { deposit:8000, perDay:190, weekday1:160, weekend:{2:110,3:40,more:40,more14:30}, weekday:{2:90,3:30,more:40,more14:30}, week:470, twoWeek:850 },
      "RF 70-200 F2.8": { deposit:15000, perDay:400, weekday1:340, weekend:{2:240,3:80,more:90,more14:70}, weekday:{2:200,3:70,more:70,more14:60}, week:990, twoWeek:1440 },
      "RF 100-500": { deposit:15000, perDay:400, weekday1:340, weekend:{2:240,3:80,more:90,more14:70}, weekday:{2:200,3:70,more:70,more14:60}, week:990, twoWeek:1440 },
      "RF 100-400": { deposit:3000, perDay:80, weekday1:70, weekend:{2:60,3:10,more:20,more14:10}, weekday:{2:50,3:10,more:10,more14:10}, week:200, twoWeek:280 },
      "RF 50mm 1.8": { deposit:1000, perDay:50, weekday1:40, weekend:{2:40,3:20,more:20,more14:20}, weekday:{2:30,3:20,more:20,more14:20}, week:180, twoWeek:350},
      "A7R5": { deposit:18000, perDay:400, weekday1:340, weekend:{2:240,3:80,more:90,more14:70}, weekday:{2:200,3:70,more:70,more14:60}, week:990, twoWeek:1440 },
      "A7C2": { deposit:12000, perDay:350, weekday1:300, weekend:{2:210,3:70,more:80,more14:60}, weekday:{2:180,3:60,more:70,more14:50}, week:900, twoWeek:1280 },
      "FE 100-400": { deposit:12000, perDay:290, weekday1:250, weekend:{2:170,3:60,more:60,more14:50}, weekday:{2:140,3:50,more:50,more14:40}, week:700, twoWeek:1010 },
      "FE 70-200 F2.8 ii": { deposit:13000, perDay:400, weekday1:340, weekend:{2:240,3:80,more:90,more14:70}, weekday:{2:200,3:70,more:70,more14:60}, week:990, twoWeek:1440 },
      "FE 200-600": { deposit:8000, perDay:230, weekday1:200, weekend:{2:140,3:40,more:50,more14:40}, weekday:{2:120,3:30,more:40,more14:30}, week:570, twoWeek:810 },
      "1.4x Extender": { deposit:2000, perDay:80, weekday1:70, weekend:{2:50,3:20,more:20,more14:20}, weekday:{2:40,3:20,more:20,more14:20}, week:220, twoWeek:420 },
      "X100VI": { deposit:14000, perDay:350, weekday1:300, weekend:{2:210,3:70,more:80,more14:60}, weekday:{2:180,3:60,more:70,more14:50}, week:900, twoWeek:1280 }
    };

    function calculatePrice() {
      const product = document.getElementById("product").value;
      const startDateRaw = document.getElementById("startDate").value;
      const endDateRaw = document.getElementById("endDate").value;
      const startDate = new Date(startDateRaw);
      const endDate = new Date(endDateRaw);
      const resultDiv = document.getElementById("result");

      if (!product || isNaN(startDate) || isNaN(endDate) || endDate < startDate) {
        resultDiv.innerHTML = "è«‹é¸æ“‡å‹è™Ÿä¸¦è¼¸å…¥æœ‰æ•ˆçš„æ—¥æœŸç¯„åœ (çµæŸæ—¥å¿…é ˆå¤§æ–¼æˆ–ç­‰æ–¼é–‹å§‹æ—¥)ã€‚";
        return;
      }

      let days = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24));
      if (days === 0) days = 1;

      const data = pricingData[product];
      let total = 0;
      let breakdown = [];

      if (days === 1) {
        const dow = startDate.getDay(); 
        const isWeekday = (dow >= 1 && dow <= 3); // Monâ€“Thu
        total = isWeekday ? data.weekday1 : data.perDay;
      } else if (days === 7) {
        total = data.week;
      } else if (days === 14) {
        total = data.twoWeek;
      } else {
        const firstChargeDate = new Date(startDate);
        firstChargeDate.setDate(startDate.getDate() + 1);

        if (days < 7) {
          const firstChargeDate = new Date(startDate);
          firstChargeDate.setDate(startDate.getDate() + 1);
        
          const dowFirst = firstChargeDate.getDay();
          const isWeekday = (dowFirst >= 1 && dowFirst <= 3); // Monâ€“Thu
          const firstDayPrice = isWeekday ? data.weekday1 : data.perDay;
        
          total += firstDayPrice;
        
          // Day 2+
          for (let i = 2; i <= days; i++) {
            const d = new Date(firstChargeDate);
            d.setDate(firstChargeDate.getDate() + (i - 1));
            const dow = d.getDay();
            const isWeekend = (dow === 4 || dow === 5 || dow === 6 || dow === 0); // Fri, Sat, Sun
            const tier = isWeekend ? data.weekend : data.weekday;
            let addon = (i === 2) ? tier[2] : (i === 3 ? tier[3] : tier.more);
            total += addon;
          }
        } else if (days > 7 && days < 14) {
          total = data.week;
          for (let i = 8; i <= days; i++) {
            const d = new Date(firstChargeDate);
            d.setDate(firstChargeDate.getDate() + (i - 1));
            const dow = d.getDay();
            const isWeekend = (dow === 4 || dow === 5 || dow === 6 || dow === 0);
            const tier = isWeekend ? data.weekend : data.weekday;
            const addon = tier.more14;
            total += addon;
          }
        } else if (days > 14) {
          total = data.twoWeek;
          for (let i = 15; i <= days; i++) {
            const d = new Date(firstChargeDate);
            d.setDate(firstChargeDate.getDate() + (i - 1));
            const dow = d.getDay();
            const isWeekend = (dow === 4 || dow === 5 || dow === 6 || dow === 0);
            const tier = isWeekend ? data.weekend : data.weekday;
            const addon = tier.more14;
            total += addon;
          }
        }
      }

      resultDiv.innerHTML = `
        <div class="title">ğŸ“… ç§Ÿå€Ÿ ${days} å¤© (å–æ©Ÿæ—¥ä¸è¨ˆè²»)</div>
        ${breakdown.map(line=>`<div class="line"><span>${line}</span></div>`).join("")}
        <div class="total">ğŸ’° ç¸½åƒ¹: $${total.toLocaleString()}</div>
        <div class="deposit">
          ğŸ”’ æŒ‰é‡‘: $${data.deposit.toLocaleString()}<br/>
          ğŸ’³ æ”¯æŒä¿¡ç”¨å¡é æˆæ¬Šï¼ˆHold Limitï¼‰/FPS/Payme/Alipayä½œç‚ºæŒ‰é‡‘æ–¹å¼
        </div>
        <div class="student-plan" style="margin-top:15px; padding:12px; border:1px dashed #aaa; border-radius:6px; background:#fdfdfd;">
          <b>ğŸ‘©ğŸ»â€ğŸ“ğŸ‘¨ğŸ»â€ğŸ“ å­¸ç”ŸæŒ‰é‡‘è¨ˆåŠƒ</b><br/>
          å¦‚æ¬²é¸ç”¨å­¸ç”ŸæŒ‰é‡‘æ–¹æ¡ˆï¼Œè«‹æ–¼<u>å–æ©Ÿå‰æœ€å°‘ä¸€å¤©</u>æäº¤ä»¥ä¸‹è³‡æ–™è‡³æˆ‘å€‘çš„WhatsAppæˆ–IGï¼š<br/>
          â€¢ èº«ä»½è­‰å‰¯æœ¬<br/>
          â€¢ æœ‰æ•ˆå­¸ç”Ÿè­‰å‰¯æœ¬<br/>
          â€¢ æ´»å‹•é–€ç¥¨ï¼ˆæ´»å‹•å¿…é ˆæ–¼ç§Ÿå€ŸæœŸé–“èˆ‰è¡Œï¼‰<br/><br/>
          âœ… å»ºè­°æ–¼å­¸ç”Ÿè­‰åŠèº«ä»½è­‰ä¸ŠåŠ ä¸Šæ°´å°ï¼Œè¨»æ˜ã€Œåƒ…ä¾› 852.camera å™¨æç§Ÿç”¨ç”¨é€”ã€ã€‚
        </div>
      `;
    }
  </script>
</body>
</html>
